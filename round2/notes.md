# $Round$ $2$ $Notes$

## $T1$ $特$
> ### 题目描述
> 
> 给定两个长度为 $n$ 的序列 $a$ 和 $b$ ，定义序列 $c$ 合法当且仅当序列 $c$ 长度为 $n$ ，且 $c_i$ 为 $a_i$ 或 $b_i$ 。询问在所有合法的序列 $c$ 中，最长上升子序列的长度。
> 
> 时间限制 2 秒，空间限制 1024 MB 。
> 
> ### 输入格式
> 
> 输入的第一行一个整数 $n$ 。
> 
> 输入的第二行 $n$ 个整数，第 $i$ 个整数为 $a_i$ 。
> 
> 输入的第三行 $n$ 个整数，第 $i$ 个整数为 $b_i$ 。
> 
> ### 输出格式
> 
> 输出一行一个整数，表示所有合法的序列 $c$ 的最长上升子序列长度。
> 
> ### 样例 #1
> 
> #### 样例输入 #1
> 
> ```
> 10
> 2 6 6 7 5 3 8 1 10 3
> 7 7 2 1 2 5 4 2 4 10
> ```
> 
> #### 样例输出 #1
> 
> ```
> 5
> ```
> 
> ### 提示
> 
> 对于 $20\%$ 的数据，保证 $1 \leq n \leq 10 , 1 \leq a_i , b_i \leq 1000$ 。
> 
> 对于 $50\%$ 的数据，保证 $1 \leq n \leq 1000 , 1 \leq a_i , b_i \leq 1000$ 。
> 
> 对于 $80\%$ 的数据，保证 $1 \leq n \leq 5000$ 。
> 
> 对于 $100\%$ 的数据，保证 $1 \leq n \leq 10^6 , 1 \leq a_i , b_i \leq 10^9$ 。

1. 如果只有 $a$ 或者 $b$ ，求最长上升子序列。
* $dp_i$ 表示以 $a_i$ 为结尾的最长上升子序列。
* $1 ～ (i-1)$ 中以 $a_i$ 为结尾，找一个前面的最长的元素。
2. 对于值域维护数据结构。

## $T2$ $立$
> ### 题目描述
> 
> 给定一个 $n$ 个点 $m$ 条边构成的有向图，边权均为 $1$ 。接下来从点 $s$ 出发，到达点 $t$ ，再到点 $s$ 。
> 
> 选择一些点进行标记，使得存在一条从点 $s$ 到点 $t$ 再到点 $s$ 的路径使得路径上所有点均被标记过。
> 
> 询问至少需要选择多少点进行标记，才能满足上述条件。
> 
> 时间限制 1 s ，空间限制 512 MB 。
> 
> ### 输入格式
> 
> 输入的第一行包含一个正整数 $T$ ，表示测试数据组数。对于每组测试数据：
> 
> 输入的第一行包含四个正整数 $n,m,s,t$ ，分别表示该有向图的点数和边数以及点 $s$ 和点 $t$ 。
> 
> 接下来 $m$ 行每行包含两个正整数 $u,v$ ，表示图中存在一条从点 $u$ 到点 $v$ 的有向边。
> 
> ### 输出格式
> 
> 对于每组测试数据：输出一行，当存在一组合法的选择方案时，输出至少需要选择的点的数量；当不存在一组合法的选择方案时，输出 `-1` 。
> 
> ### 样例 #1
> 
> #### 样例输入 #1
> 
> ```
> 2
> 5 10 3 5
> 1 1
> 1 5
> 2 1
> 2 4
> 3 2
> 3 4
> 4 5
> 5 1
> 5 2
> 5 3
> 3 6 3 1
> 1 1
> 1 3
> 2 1
> 3 1
> 3 2
> 3 3
> ```
> 
> #### 样例输出 #1
> 
> ```
> 3
> 2
> ```
> 
> ### 提示
> 
> 对于所有数据，保证 $1 \leq T \leq 100 , 2 \leq n \leq 500 ,1 \leq m \leq n^2 , 1 \leq s , t \leq n , s \not = t , 1 \leq \sum n \leq 1000$ 。
> 
> | 测试点编号 | $n \leq$ | $\sum n \leq$ | 特殊性质 |
> | :----------: | :--: | :-: | :--------: |
> |      $1 \sim 2$      | $20$ | $100$ |    无    |
> |      $3 \sim 6$      | $50$ | $200$ |    A    |
> |      $7 \sim 8$      | $500$ | $1000$ |    B    |
> |      $9 \sim 14$      | $200$ | $500$ |    无    |
> |      $15 \sim 20$      | $



## $T3$ $独$
> ### 题目描述
> 
> 给定一棵 $n$ 个节点的树，以点 $1$ 为根节点，初始所有节点的颜色均为 $1$ 。接下来进行两种类型的操作：
> 
> 1. 给定点 $x$ 和颜色 $y$ ，将以点 $x$ 为根的子树的全部节点的颜色染成颜色 $y$ 。
> 2. 给定节点 $x$ ，询问如果将所有两端点对应颜色不同的边全部删掉，那么点 $x$ 所在连通块的大小。
> 
> ~~时间限制 2 秒~~，空间限制 1024 MB。
> 
> 由于评测机效率差异原因，本题时间限制修改为 4 秒。
> 
> ### 输入格式
> 
> 输入的第一行包含一个正整数 $n$ ，表示树的节点数量。
> 
> 输入的第 $2$ 行到第 $n$ 行每行输入两个正整数 $u,v$ 表示树上的一条边 $(u,v)$ 。
> 
> 输入的第 $n+1$ 行包含一个正整数 $m$ ，表示操作的数量。
> 
> 接下来 $m$ 行，每行首先输入一个正整数 $opt$ 表示操作类型。当 $opt=1$ 时输入 $x,y$ ；当 $opt=2$ 时输入 $x$ 。
> 
> ### 输出格式
> 
> 对于每组询问，输出对应的结果。
> 
> ### 样例 #1
> 
> #### 样例输入 #1
> 
> ```
> 6
> 1 2
> 2 3
> 2 4
> 1 5
> 3 6
> 8
> 2 1
> 1 1 2 
> 2 1
> 1 2 3
> 2 1
> 1 1 3
> 2 1
> 2 3
> ```
> 
> #### 样例输出 #1
> 
> ```
> 6
> 6
> 2
> 6
> 6
> ```
> 
> ### 提示
> 
> 对于 $100\%$ 的数据，保证 $1 \leq n ,m\leq 10^{6}$ ，保证题目中所有出现过的颜色值域均在 $[1,10^6]$ 内。
> 
> | 测试点编号 |  $n \leq$  | $m \leq$ |             特殊性质             |
> | :----------: | :--: | :-: | :--------------------------------: |
> |      $1 \sim 6$      |  $10^{5}$  | $10^{6}$ |                 C                 |
> |      $7 \sim 10$      |  $10^{5}$  | $10^{5}$ |                无                |
> |      $11 \sim 12$      |  $10^{6}$  | $10^{6}$ | A |
> |      $13 \sim 14$      |  $5 \times 10^{5}$  | $5 \times 10^{5}$ |                无                |
> |      $15$      |  $10^{6}$  | $10^{6}$ |       B       |
> |      $16 \sim 20$      | $10^{6}$<br /> | $10^{6}$ |                无                |
> 
> 特殊性质 A：保证节点 $i (1 < i \leq n)$ 的父节点在 $[1,i)$ 内随机均匀生成。
> 
> 特殊性质 B：保证节点 $i(1<i \leq n)$ 的父节点为 $i-1$ 。
> 
> 特殊性质 C：保证 $n \times m \leq 10^{8}$ 。

## $T4$ $行$
> ### 题目描述
> 
> 给定 $n \times m$ 本书，第 $i$ 本书的权值为 $a_i$ 。接下来将这 $n \times m$ 本书分成若干个无序的组，要求每个组中的书的数量均为 $m$ 的倍数。定义一个分组方案的贡献为所有组内的书的权值之和的乘积。询问所有合法的分组方案的贡献和。
> 
> 定义两个分组方案不同，当且仅当存在两本书在一个分组方案中在一个组内且在另一个分组方案中不在一个组内。
> 
> 时间限制 2 秒，空间限制 512 MB。
> 
> ### 输入格式
> 
> 输入的第一行包含两个正整数 $n,m$ 。
> 
> 输入的第二行包含 $n \times m$ 个整数，第 $i$ 个整数 $a_i$ 表示第 $i$ 本书的权值。
> 
> ### 输出格式
> 
> 输出一行一个整数，表示最终所有方案的贡献和 $\bmod \ 10^{9}+7$ 的结果。
> 
> ### 样例 #1
> 
> #### 样例输入 #1
> 
> ```
> 3 2
> 1 1 1 1 2 1
> ```
> 
> #### 样例输出 #1
> 
> ```
> 347
> ```
> 
> ### 样例 #2
> 
> #### 样例输入 #2
> 
> ```
> 3 2
> 2 2 2 2 2 2
> ```
> 
> #### 样例输出 #2
> 
> ```
> 1452
> ```
> 
> ### 提示
> 
> 对于 $100\%$ 的数据，保证 $1 \leq n \leq 1500 , 1 \leq m \leq 100 , 0 \leq a_i < 10^{9}+7$ 。
> 
> | 测试点编号 | $n \leq$ | 特殊性质 |
> | :----------: | :--: | :--------: |
> |      $1 \sim 5$      | $4$ |     $m \leq 4$     |
> |      $6 \sim 10$      | $1500$ |    $m=1$   |
> |      $11 \sim 15$      | $100$ |    无    |
> |      $16 \sim 20$      | $500$ |    无    |
> |      $21 \sim 25$      | $1500$ |    无    |
